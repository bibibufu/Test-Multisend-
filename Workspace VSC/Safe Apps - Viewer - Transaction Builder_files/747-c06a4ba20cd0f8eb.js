(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747],{50566:function(e,n,t){"use strict";var i,r,o=t(67294),c=["title","titleId"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},l.apply(this,arguments)}function a(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}n.Z=function(e){var n=e.title,t=e.titleId,s=a(e,c);return o.createElement("svg",l({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},s),n?o.createElement("title",{id:t},n):null,i||(i=o.createElement("path",{d:"M54.9688 20.9422H8.87817V25.5644H54.9688V20.9422Z",className:"illustration-light-fill"})),r||(r=o.createElement("path",{d:"M56.4301 23.84L55.8541 23.3991C55.2354 22.9262 55.111 22.0444 55.5768 21.4222L56.0141 20.8356C56.7252 19.9004 56.4123 18.752 55.5946 17.7884L49.6355 9.44356C48.7395 8.18844 47.2923 7.44178 45.7492 7.44178H18.2328C16.6897 7.44178 15.2426 8.18844 14.3466 9.44356L8.40167 17.7884C7.58389 18.752 7.27456 19.8969 7.98212 20.8356L8.41945 21.4222C8.88167 22.048 8.76078 22.9262 8.14212 23.3991L7.56612 23.84C6.63101 24.5511 6.44612 25.8844 7.15723 26.8196L28.0994 55.9787C28.4123 56.3876 28.8959 56.6293 29.4115 56.6293H34.5777C35.0932 56.6293 35.5768 56.3876 35.8897 55.9787L56.8426 26.8196C57.5537 25.8844 57.3688 24.5476 56.4337 23.84H56.4301ZM32.4657 52.3982C32.2274 52.7111 31.7581 52.7111 31.5199 52.3982L10.5706 23.6729C10.3323 23.36 10.4106 22.9049 10.6417 22.5956L17.2657 13.312C17.8239 12.5262 18.727 12.064 19.6906 12.064H44.2915C45.255 12.064 46.1581 12.5298 46.7163 13.312L53.351 22.5956C53.5857 22.9049 53.6603 23.3636 53.4221 23.6729L32.4621 52.3982H32.4657Z",className:"illustration-light-fill"})))}},9948:function(e,n,t){"use strict";var i=t(10253),r=t(85893),o=t(67294);n.Z=function(e){var n=e.onLoadMore,t=(0,o.useRef)(null),c=function(e){var n=(0,o.useState)(!1),t=n[0],r=n[1],c=(0,o.useRef)(),l=(0,o.useCallback)((function(e){var n=(0,i.Z)(e,1)[0];r(n.isIntersecting)}),[]);return(0,o.useEffect)((function(){return e.current&&(c.current=new IntersectionObserver(l),c.current.observe(e.current)),function(){var e;null===(e=c.current)||void 0===e||e.disconnect(),c.current=void 0}}),[l,e]),t}(t);return(0,o.useEffect)((function(){c&&n()}),[c,n]),(0,r.jsx)("div",{ref:t})}},20747:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return re}});var i=t(14924),r=t(26042),o=t(85893),c=t(67294),l=t(39986),a=t(69396),s=t(14234),d=t(10253),u=t(15861),x=t(80094),h=t(94232),f=t(1258),j=function(e){var n=e.txNonce,t=e.onSubmit,i=(0,x.Z)().createRejectTx,r=(0,d.Z)((0,h.Z)((function(){return i(n)}),[n,i]),2),c=r[0],l=r[1];return(0,o.jsxs)(f.Z,{safeTx:c,isRejection:!0,onSubmit:t,error:l,children:[(0,o.jsx)(u.Z,{mb:2,children:"To reject the transaction, a separate rejection transaction will be created to replace the original one."}),(0,o.jsxs)(u.Z,{mb:2,children:["Transaction nonce: ",(0,o.jsx)("b",{children:n})]}),(0,o.jsx)(u.Z,{mb:2,children:"You will need to confirm the rejection transaction with your currently connected wallet."})]})},p=[{label:"Reject transaction",render:function(e,n){return(0,o.jsx)(j,{txNonce:e,onSubmit:n})}}],m=function(e){return(0,o.jsx)(s.Z,(0,a.Z)((0,r.Z)({},e),{steps:p}))},Z=t(91733),v=t(62687),b=t(24939),g=t(99226),C=t(6514),w=t(41664),k=t.n(w),y=t(11163),S=t(5869),N=t(82669),I=t(90551),T=t(8002),_=t(99534),L=t(83321),O=t(53219),E=t(52608),R=t(50566),D=function(e){var n=e.sx,t=(0,_.Z)(e,["sx"]);return(0,o.jsx)(L.Z,(0,r.Z)({variant:"contained",sx:(0,r.Z)({"& svg path":{fill:"currentColor"}},n),fullWidth:!0},t))},M=function(e){var n=e.onClick,t=(0,_.Z)(e,["onClick"]);return(0,o.jsx)(D,(0,a.Z)((0,r.Z)({onClick:n,startIcon:(0,o.jsx)(O.Z,{component:E.Z,inheritViewBox:!0})},t),{children:"Send tokens"}))},A=function(e){var n=e.onClick,t=(0,_.Z)(e,["onClick"]);return(0,o.jsx)(D,(0,a.Z)((0,r.Z)({onClick:n,startIcon:(0,o.jsx)(O.Z,{component:R.Z,inheritViewBox:!0})},t),{children:"Send NFTs"}))},F=D,P=function(e){var n=e.open,t=e.onClose,i=e.onTokenModalOpen,r=e.onNFTModalOpen,c=e.onContractInteraction,l=e.shouldShowTxBuilder,a=function(){var e=(0,d.Z)((0,N.W)(T.cd.TX_BUILDER),1)[0],n=(0,y.useRouter)(),t=null===e||void 0===e?void 0:e[0];return{app:t,link:{pathname:I.$.apps,query:{safe:n.query.safe,appUrl:null===t||void 0===t?void 0:t.url}}}}();return(0,o.jsx)(S.Z,{open:n,dialogTitle:"New transaction",onClose:t,children:(0,o.jsx)(C.Z,{children:(0,o.jsxs)(g.Z,{display:"flex",flexDirection:"column",alignItems:"center",gap:2,pt:7,pb:4,width:240,m:"auto",children:[(0,o.jsx)(M,{onClick:i}),(0,o.jsx)(A,{onClick:r}),a.app&&l&&(0,o.jsx)(k(),{href:a.link,passHref:!0,children:(0,o.jsx)("a",{style:{width:"100%"},children:(0,o.jsx)(F,{startIcon:(0,o.jsx)("img",{src:a.app.iconUrl,height:20,width:"auto",alt:a.app.name}),variant:"outlined",onClick:c,children:"Contract interaction"})})})]})})})},B=t(34386),V=t(19370),H=t(44472),z=t(83578),U=t(31425),W=t(86886),q=t(92924),Q=t(85235),J=t(27036),X=t(29091),Y=t(96805),$=t(27371),G=t(4111),K=t.n(G),ee=function(e){return(0,o.jsx)("div",{className:K().circle,children:e})},ne=[{label:"Create new transaction with same nonce",icon:(0,o.jsx)("div",{className:K().redCircle})},{label:"Collect confirmations from owners",icon:ee((0,o.jsx)(J.Z,{fontSize:"small",color:"border"}))},{label:"Execute replacement transaction",icon:ee((0,o.jsx)(O.Z,{component:Q.Z,inheritViewBox:!0,fontSize:"small",color:"border"}))},{label:"Initial transaction is replaced",icon:ee((0,o.jsx)(O.Z,{component:X.Z,inheritViewBox:!0,fontSize:"small",color:"border"}))}],te={width:{xs:240,sm:"100%"}},ie=function(e){var n=e.open,t=e.txNonce,i=e.onClose,c=e.onTokenModalOpen,l=e.onNFTModalOpen,a=e.onRejectModalOpen,s=(0,Y.d)(t),d=!(null===s||void 0===s?void 0:s.some((function(e){return(0,$.w$)(e.transaction.txInfo)&&e.transaction.txInfo.isCancellation})));return(0,o.jsxs)(S.Z,{open:n,dialogTitle:"Replace transaction with nonce ".concat(t),onClose:i,children:[(0,o.jsxs)(C.Z,{className:K().container,children:[(0,o.jsx)(u.Z,{variant:"h5",mb:1,textAlign:"center",children:"Need to replace or discard this transaction?"}),(0,o.jsx)(u.Z,{variant:"body1",textAlign:"center",children:"A signed transaction cannot be removed but it can be replaced with a new transaction with the same nonce."}),(0,o.jsx)(V.Z,{alternativeLabel:!0,className:K().stepper,children:ne.map((function(e){var n=e.label;return(0,o.jsx)(H.Z,{children:(0,o.jsx)(z.Z,{StepIconComponent:function(e){var n=e.icon;return ne[Number(n)-1].icon},children:(0,o.jsx)(u.Z,{variant:"body1",fontWeight:700,children:n})})},n)}))})]}),(0,o.jsx)(U.Z,{className:K().container,children:(0,o.jsxs)(W.ZP,{container:!0,alignItems:"center",justifyContent:"center",flexDirection:"row",children:[(0,o.jsx)(W.ZP,{item:!0,xs:12,children:(0,o.jsx)(u.Z,{variant:"body2",textAlign:"center",fontWeight:700,mb:3,children:"Select how you would like to replace this transaction"})}),(0,o.jsxs)(W.ZP,{item:!0,container:!0,justifyContent:"center",alignItems:"center",gap:1,xs:12,sm:!0,flexDirection:"row",children:[(0,o.jsx)(M,{onClick:c,sx:te}),(0,o.jsx)(A,{onClick:l,sx:te})]}),(0,o.jsx)(W.ZP,{item:!0,children:(0,o.jsx)(u.Z,{variant:"body2",className:K().or,children:"or"})}),(0,o.jsxs)(W.ZP,{item:!0,container:!0,xs:12,sm:!0,justifyContent:{xs:"center",sm:"flex-start"},alignItems:"center",textAlign:"center",flexDirection:"row",children:[(0,o.jsx)(B.Z,{arrow:!0,placement:"top",title:d?"":"Transaction with nonce ".concat(t," already has a reject transaction"),children:(0,o.jsx)("span",{style:{width:"100%"},children:(0,o.jsx)(L.Z,{onClick:a,variant:"outlined",fullWidth:!0,sx:(0,r.Z)({mb:1},te),disabled:!d,children:"Reject transaction"})})}),(0,o.jsx)("div",{children:(0,o.jsxs)(u.Z,{variant:"caption",display:"flex",alignItems:"center",children:["How does it work?"," ",(0,o.jsx)(B.Z,{title:"An on-chain rejection doesn't send any funds. Executing an on-chain rejection will replace all currently awaiting transactions with nonce ".concat(t,"."),arrow:!0,children:(0,o.jsx)("span",{children:(0,o.jsx)(O.Z,{component:q.Z,inheritViewBox:!0,fontSize:"small",color:"border",sx:{verticalAlign:"middle",ml:.5}})})})]})})]})]})})]})},re=function(e){var n,t=e.onClose,a=e.recipient,s=void 0===a?"":a,d=e.txNonce,u=(0,c.useState)(!1),x=u[0],h=u[1],f=(0,c.useState)(!1),j=f[0],p=f[1],g=(0,c.useState)(!1),C=g[0],w=g[1],k=void 0!==d,y={open:!x&&!j,onClose:t,onTokenModalOpen:function(){(0,v.zj)(v.L9.SEND_FUNDS),h(!0)},onNFTModalOpen:function(){(0,v.zj)(v.L9.SEND_COLLECTIBLE),p(!0)}};return(0,o.jsxs)(o.Fragment,{children:[k?(0,o.jsx)(ie,(0,r.Z)({txNonce:d,onRejectModalOpen:function(){(0,v.zj)(v.L9.REJECT_TX),w(!0)}},y)):(0,o.jsx)(P,(0,r.Z)({shouldShowTxBuilder:!s,onContractInteraction:function(){(0,v.zj)(v.L9.CONTRACT_INTERACTION),t()}},y)),x&&(0,o.jsx)(l.Z,{onClose:t,initialData:[(n={},(0,i.Z)(n,b.m.recipient,s),(0,i.Z)(n,"disableSpendingLimit",k),n),{txNonce:d}]}),j&&(0,o.jsx)(Z.Z,{onClose:t,initialData:[{recipient:s},{txNonce:d}]}),C&&"number"===typeof d?(0,o.jsx)(m,{onClose:t,initialData:[d]}):null]})}},91733:function(e,n,t){"use strict";t.d(n,{Z:function(){return V}});var i,r=t(26042),o=t(69396),c=t(85893),l=t(14234),a=t(14924),s=t(10253),d=t(67294),u=t(99226),x=t(83321),h=t(98456),f=t(6514),j=t(94054),p=t(86886),m=t(47312),Z=t(18972),v=t(18360),b=t(15861),g=t(45578),C=t.n(g),w=t(87536),k=t(10495),y=t(40716),S=t(91692),N=t(92262),I=t(19502),T=t(16849),_=t(3085),L=t(9948);!function(e){e.recipient="recipient",e.tokenAddress="tokenAddress",e.tokenId="tokenId"}(i||(i={}));var O=function(e){var n=e.image,t=e.name,i=e.description;return(0,c.jsxs)(p.ZP,{container:!0,spacing:1,alignItems:"center",wrap:"nowrap",sx:{maxWidth:"530px"},children:[(0,c.jsx)(p.ZP,{item:!0,children:(0,c.jsx)(u.Z,{width:20,height:20,children:(0,c.jsx)(I.Z,{src:n,fallbackSrc:"/images/common/nft-placeholder.png",alt:t,height:20})})}),(0,c.jsxs)(p.ZP,{item:!0,overflow:"hidden",children:[(0,c.jsx)(b.Z,{overflow:"hidden",textOverflow:"ellipsis",children:t}),i&&(0,c.jsx)(b.Z,{variant:"caption",color:"primary.light",display:"block",overflow:"hidden",textOverflow:"ellipsis",children:i})]})]})},E=function(e){var n,t,l,p=e.params,b=e.onSubmit,g=(0,T.Z)(),I=(0,d.useState)(),E=I[0],R=I[1],D=(0,d.useState)((null===p||void 0===p?void 0:p.token)?[p.token]:[]),M=D[0],A=D[1],F=(0,s.Z)((0,N.Z)(E),3),P=F[0],B=F[1],V=F[2],H=V&&!M.length,z=(0,w.cI)({defaultValues:(l={},(0,a.Z)(l,i.recipient,(null===p||void 0===p?void 0:p.recipient)||""),(0,a.Z)(l,i.tokenAddress,(null===p||void 0===p||null===(n=p.token)||void 0===n?void 0:n.address)||""),(0,a.Z)(l,i.tokenId,(null===p||void 0===p||null===(t=p.token)||void 0===t?void 0:t.id)||""),l)}),U=z.handleSubmit,W=z.watch,q=z.setValue,Q=z.formState.errors,J=W(i.recipient);return(0,d.useEffect)((function(){var e;(null===P||void 0===P||null===(e=P.results)||void 0===e?void 0:e.length)&&A((function(e){return C()(e.concat(P.results),(function(e){return e.address+e.id}))}))}),[null===P||void 0===P?void 0:P.results]),(0,c.jsx)(w.RV,(0,o.Z)((0,r.Z)({},z),{children:(0,c.jsxs)("form",{onSubmit:U((function(e){var n=M.find((function(n){return n.id===e.tokenId}));n&&b({recipient:e.recipient,token:n})})),children:[(0,c.jsxs)(f.Z,{children:[(0,c.jsx)(y.Z,{}),(0,c.jsx)(j.Z,{fullWidth:!0,sx:{mb:2,mt:1},children:g[J]?(0,c.jsx)(u.Z,{onClick:function(){return q(i.recipient,"")},children:(0,c.jsx)(_.Z,{address:J})}):(0,c.jsx)(k.Z,{name:i.recipient,label:"Recipient"})}),(0,c.jsxs)(j.Z,{fullWidth:!0,sx:{mb:2},children:[(0,c.jsx)(m.Z,{id:"asset-label",required:!0,children:"Select an NFT"}),(0,c.jsx)(w.Qr,{rules:{required:!0},name:i.tokenId,render:function(e){var n,t=e.field;return(0,c.jsxs)(v.Z,(0,o.Z)((0,r.Z)({},t),{labelId:"asset-label",label:(null===(n=Q.tokenId)||void 0===n?void 0:n.message)||"Select an NFT",error:!!Q.tokenId,children:[M.map((function(e){return(0,c.jsx)(Z.Z,{value:e.id,children:(0,c.jsx)(O,{image:e.imageUri||e.logoUri,name:"".concat(e.tokenName||e.tokenSymbol||""," #").concat(e.id),description:"Token ID: ".concat(e.id).concat(e.name?" - ".concat(e.name):"")})},e.address+e.id)})),(V||(null===P||void 0===P?void 0:P.next))&&(0,c.jsx)(Z.Z,{disabled:!0,children:V?(0,c.jsx)(h.Z,{size:20}):(null===P||void 0===P?void 0:P.next)&&(0,c.jsx)(L.Z,{onLoadMore:function(){return R(null===P||void 0===P?void 0:P.next)}})})]}))}})]}),B&&!p&&(0,c.jsx)(S.Z,{children:"Failed to load NFTs"})]}),(0,c.jsx)(x.Z,{variant:"contained",type:"submit",disabled:H,children:H?"Loading...":"Next"})]})}))},R=t(1258),D=t(94232),M=t(59737),A=t(80094),F=t(91922),P=function(e){var n=e.params,t=e.onSubmit,i=(0,A.Z)().createTx,r=(0,F.Z)(),o=n.token,l=(0,s.Z)((0,D.Z)((function(){var e=(0,M.o)(r,n.recipient,n.token.id,n.token.address);return i(e,n.txNonce)}),[r,n,i]),2),a=l[0],d=l[1];return(0,c.jsxs)(R.Z,{safeTx:a,onSubmit:t,error:d,children:[(0,c.jsxs)(u.Z,{display:"flex",flexDirection:"column",alignItems:"center",children:[(0,c.jsx)(I.Z,{src:o.imageUri||o.logoUri,fallbackSrc:"/images/common/nft-placeholder.png",alt:o.tokenSymbol,height:60,style:{borderRadius:4,marginBottom:"var(--space-1)"}}),(0,c.jsx)(b.Z,{color:"text.secondary",children:o.tokenName}),(0,c.jsx)(b.Z,{children:o.name||"".concat(o.tokenName," #").concat(o.id)})]}),(0,c.jsx)(y.Z,{}),(0,c.jsx)(_.Z,{address:n.recipient})]})},B=[{label:"Send NFT",render:function(e,n){return(0,c.jsx)(E,{onSubmit:n,params:e})}},{label:"Review transaction",render:function(e,n){return(0,c.jsx)(P,{onSubmit:n,params:e})}}],V=function(e){return(0,c.jsx)(l.Z,(0,o.Z)((0,r.Z)({},e),{steps:B}))}},92262:function(e,n,t){"use strict";var i=t(10253),r=t(67294),o=t(18831),c=t(94232),l=t(9434),a=t(84177);n.Z=function(e){var n=(0,a.Z)(),t=n.safe,s=n.safeAddress,d=(0,i.Z)((0,c.Z)((function(){if(s)return(0,o.getCollectiblesPage)(t.chainId,s,void 0,e)}),[s,t.chainId,e]),3),u=d[0],x=d[1],h=d[2];return(0,r.useEffect)((function(){x&&(0,l.H)(l.D1._604,x.message)}),[x]),[u,x,h||!u]}},4111:function(e){e.exports={container:"styles_container__YwVi9",redCircle:"styles_redCircle__EU_gJ",circle:"styles_circle__c8QQC",stepper:"styles_stepper__FMLS9",or:"styles_or__7I_jG"}}}]);
//# sourceMappingURL=747-c06a4ba20cd0f8eb.js.map