(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7572],{27036:function(t,n,e){"use strict";var r=e(64836);n.Z=void 0;var a=r(e(64938)),i=e(85893),s=(0,a.default)((0,i.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");n.Z=s},96214:function(t,n,e){"use strict";var r=e(64836);n.Z=void 0;var a=r(e(64938)),i=e(85893),s=(0,a.default)((0,i.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");n.Z=s},79369:function(t,n,e){"use strict";var r=e(64836);n.Z=void 0;var a=r(e(64938)),i=e(85893),s=(0,a.default)((0,i.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");n.Z=s},9948:function(t,n,e){"use strict";var r=e(10253),a=e(85893),i=e(67294);n.Z=function(t){var n=t.onLoadMore,e=(0,i.useRef)(null),s=function(t){var n=(0,i.useState)(!1),e=n[0],a=n[1],s=(0,i.useRef)(),o=(0,i.useCallback)((function(t){var n=(0,r.Z)(t,1)[0];a(n.isIntersecting)}),[]);return(0,i.useEffect)((function(){return t.current&&(s.current=new IntersectionObserver(o),s.current.observe(t.current)),function(){var t;null===(t=s.current)||void 0===t||t.disconnect(),s.current=void 0}}),[o,t]),e}(e);return(0,i.useEffect)((function(){s&&n()}),[s,n]),(0,a.jsx)("div",{ref:e})}},92613:function(t,n,e){"use strict";var r=e(85893),a=e(99226),i=e(15861),s=e(28962),o=e.n(s);n.Z=function(t){var n=t.title,e=t.action,s=t.noBorder;return(0,r.jsxs)(a.Z,{className:o().container,sx:{borderBottom:s?void 0:function(t){var n=t.palette;return"1px solid ".concat(n.border.light)}},children:[(0,r.jsx)(i.Z,{variant:"h3",className:o().title,children:n}),e]})}},88739:function(t,n,e){"use strict";e.d(n,{Z:function(){return j}});var r=e(10253),a=e(85893),i=e(67294),s=e(99226),o=e(39578),c=e(91692),u=e(96805),l=e(57407),d=e(9948),f=e(88078),x=function(){var t=(0,a.jsx)(f.Z,{variant:"text",width:"10em",sx:{mt:"20px",mb:1}}),n=function(t){return(0,a.jsx)(f.Z,{height:54,sx:{mb:"6px"},variant:"rounded"},String(t))};return(0,a.jsxs)(a.Fragment,{children:[t,Array.from(Array(3).keys()).map(n),t,Array.from(Array(2).keys()).map(n)]})},h=e(42202),v=e(27371),m=e(973),p=function(){return(0,a.jsx)(l.Z,{img:(0,a.jsx)(m.Z,{}),text:"Queued transactions will appear here"})},Z=function(t,n){var e=n.results.filter(v.ge).length;return"".concat(n.next?"> ":"").concat(e," ").concat(t.type," transactions found").toLowerCase()},g=function(t){var n=t.pageUrl,e=t.useTxns,i=t.onNextPage,l=t.isFirstPage,f=e(n),v=f.page,m=f.error,g=f.loading,j=(0,r.Z)((0,h.c_)(),1)[0],b=e===u.Z;return(0,a.jsxs)(a.Fragment,{children:[l&&j&&v&&(0,a.jsx)(s.Z,{display:"flex",flexDirection:"column",alignItems:"flex-end",pt:[2,0],pb:3,children:Z(j,v)}),v&&v.results.length>0&&(0,a.jsx)(o.Z,{items:v.results}),b&&0===(null===v||void 0===v?void 0:v.results.length)&&(0,a.jsx)(p,{}),m&&(0,a.jsx)(c.Z,{children:"Error loading transactions"}),g&&(0,a.jsx)(x,{}),(null===v||void 0===v?void 0:v.next)&&i&&(0,a.jsx)(s.Z,{my:4,textAlign:"center",children:(0,a.jsx)(d.Z,{onLoadMore:function(){return i(v.next)}})})]})},j=function(t){var n=t.useTxns,e=(t.disableTopActionMargins,(0,i.useState)([""])),o=e[0],c=e[1],l=(0,r.Z)((0,h.c_)(),1)[0];u.Z;(0,i.useEffect)((function(){c([""])}),[l,n]);var d=function(t){c((function(n){return n.concat(t)}))};return(0,a.jsx)(s.Z,{mb:4,position:"relative",children:o.map((function(t,e){return(0,a.jsx)(g,{pageUrl:t,useTxns:n,isFirstPage:0===e,onNextPage:e===o.length-1?d:void 0},t)}))})}},50824:function(t,n,e){"use strict";e.d(n,{Z:function(){return $}});var r=e(26042),a=e(69396),i=e(85893),s=e(67294),o=e(83321),c=e(34386),u=e(5329),l=e(89336),d=e(89715),f=e(27371),x=e(84177),h=e(44319),v=function(t){var n=(0,x.Z)().safe.nonce;return(0,s.useMemo)((function(){return function(t,n){var e=[],r=n;return(0,h.e)(t).map((function(t){return Array.isArray(t)?t:(0,f.ge)(t)?[t]:void 0})).filter(Boolean).forEach((function(t){t.slice().sort((function(t,n){return n.transaction.timestamp-t.transaction.timestamp})).forEach((function(t){if((0,f.j7)(t.transaction.executionInfo)){var n=t.transaction.executionInfo,a=n.nonce,i=n.confirmationsSubmitted,s=n.confirmationsRequired;e.length<20&&a===r&&i>=s&&(e.push(t),r=a+1)}}))})),e}(t,n)}),[n,t])},m=e(14234),p=e(47568),Z=e(10253),g=e(34051),j=e.n(g),b=e(94232),y=e(12591),I=e(74727),w=e(24795),k=e(81511),E=e(6514),C=e(15861),A=e(3085),M=e(80094),D=e(50007),_=e(9434),S=e(91692),T=e(99226),z=e(79969),B=e(18138),L=function(t){var n=t.txs,e=(0,x.Z)().safeAddress;return n?(0,i.jsx)(T.Z,{mt:1,display:"flex",flexDirection:"column",gap:1,children:n.map((function(t,n){if(!t.txData)return null;var r=(0,z.Z)(t,e).txParams,a={method:"",parameters:void 0};(0,f.w$)(t.txInfo)&&t.txInfo.isCancellation&&(a.method="On-chain rejection"),(0,f.Ux)(t.txInfo)&&(0,f.f0)(t.txInfo.transferInfo)&&(a.method="transfer");var s=t.txData.dataDecoded||a;return(0,i.jsx)(B.Z,{tx:{dataDecoded:s,data:r.data,value:r.value,to:r.to,operation:0},txData:t.txData,actionTitle:"Action ".concat(n+1),showDelegateCallWarning:!1},t.txId)}))}):null},N=e(84295),P=e(14920),F=function(t){var n=t.data,e=t.onSubmit,r=(0,s.useState)(!0),a=r[0],c=r[1],u=(0,s.useState)(),l=u[0],d=u[1],f=(0,I.U)(),h=(0,x.Z)().safe,v=(0,k.$6)(),m=(0,M.Z)().dispatchBatchExecution,g=(0,Z.Z)((0,b.Z)((function(){if(null===f||void 0===f?void 0:f.chainId)return(0,N.G0)(n.txs,f.chainId)}),[n.txs,null===f||void 0===f?void 0:f.chainId]),3),T=g[0],z=g[1],B=g[2],F=(0,s.useMemo)((function(){if((null===f||void 0===f?void 0:f.chainId)&&h.version)return(0,y.yn)(f.chainId,h.version)}),[null===f||void 0===f?void 0:f.chainId,h.version]),H=(0,s.useMemo)((function(){if(T&&f&&h.version)return(0,N.Mn)(T,f,h.address.value,h.version)}),[f,h.address.value,h.version,T]),U=(0,s.useMemo)((function(){if(T&&H)return(0,w.encodeMultiSendData)(H)}),[T,H]),q=function(){var t=(0,p.Z)(j().mark((function t(){return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v&&U&&F&&T){t.next=2;break}return t.abrupt("return");case 2:return c(!1),d(void 0),t.prev=4,t.next=7,m(T,F,U,v);case 7:t.next=14;break;case 9:t.prev=9,t.t0=t.catch(4),(0,_.H)(_.D1._804,t.t0.message),c(!0),d(t.t0);case 14:e(null);case 15:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(){return t.apply(this,arguments)}}(),R=B||!a;return(0,i.jsx)("div",{children:(0,i.jsxs)(E.Z,{children:[(0,i.jsxs)(C.Z,{variant:"body2",mb:2,children:["This transaction batches a total of ",n.txs.length," transactions from your queue into a single Ethereum transaction. Please check every included transaction carefully, especially if you have rejection transactions, and make sure you want to execute all of them. Included transactions are highlighted in green when you hover over the execute button."]}),F&&(0,i.jsx)(A.Z,{address:F.getAddress(),title:"Interact with:"}),U&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.Z,{mt:2,color:"primary.light",children:"Data (hex encoded)"}),(0,D.Y)(U,"rawData")]}),(0,i.jsx)(C.Z,{mt:2,color:"primary.light",children:"Batched transactions:"}),(0,i.jsx)(L,{txs:T}),H&&(0,i.jsx)(P.p,{canExecute:!0,transactions:H,disabled:R}),(0,i.jsx)(C.Z,{variant:"body2",mt:2,textAlign:"center",children:"Be aware that if any of the included transactions revert, none of them will be executed. This will result in the loss of the allocated transaction fees."}),z&&(0,i.jsx)(S.Z,{error:z,children:"This transaction will most likely fail. To save gas costs, avoid creating the transaction."}),l&&(0,i.jsx)(S.Z,{error:l,children:"Error submitting the transaction. Please try again."}),(0,i.jsx)(o.Z,{onClick:q,disabled:R,variant:"contained",sx:{position:"absolute",bottom:"24px",right:"24px",zIndex:1},children:"Send"})]})})},H=[{label:"Execute batch",render:function(t,n){return(0,i.jsx)(F,{data:t,onSubmit:n})}}],U=function(t){return(0,i.jsx)(m.Z,(0,a.Z)((0,r.Z)({},t),{steps:H}))},q=e(62687),R=e(53536),G=e(61329),O=e(2909),W=e(96805),$=function(){var t=(0,s.useState)(!1),n=t[0],e=t[1],f=(0,l.CG)(d.qW),x=(0,s.useContext)(u.B),h=(0,W.Z)().page,m=v((null===h||void 0===h?void 0:h.results)||[]),p=(0,G.Z)(),Z=(0,O.Z)(),g=m.length>1,j=m.some((function(t){return f[t.transaction.id]})),b=!g||j||!p||Z,y=(0,s.useCallback)((function(){x.setActiveHover(m.map((function(t){return t.transaction.id})))}),[m,x]),I=(0,s.useCallback)((function(){x.setActiveHover([])}),[x]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{placement:"top-start",arrow:!0,title:b?"Batch execution is only available for transactions that have been fully signed and are strictly sequential in Safe nonce.":"All transactions highlighted in light green will be included in the batch execution.",children:(0,i.jsx)("span",{children:(0,i.jsxs)(o.Z,{onMouseEnter:y,onMouseLeave:I,variant:"contained",size:"small",disabled:b,onClick:function(){(0,q.zj)((0,a.Z)((0,r.Z)({},R.I.BATCH_EXECUTE),{label:m.length})),e(!0)},children:["Execute batch",g&&" (".concat(m.length,")")]})})}),n&&(0,i.jsx)(U,{onClose:function(){return e(!1)},initialData:[{txs:m}]})]})}},28962:function(t){t.exports={container:"styles_container__dwmnI",title:"styles_title__sN5vi"}}}]);
//# sourceMappingURL=7572-3a01e98c49a51493.js.map